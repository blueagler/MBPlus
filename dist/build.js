(()=>{"use strict";var t={588:(t,e,n)=>{n.d(e,{Z:()=>o});var i=n(645),a=n.n(i)()((function(t){return t[1]}));a.push([t.id,".MBPlus_finishedTaskBlock {\n\tbackground: linear-gradient(134deg, #fee3be, #f8c67d) !important;\n\tcolor: #582f1d !important;\n\tbox-shadow: 0 2px 4px #ffeaca !important;\n}\n.MBPlus_waitingTaskBlock {\n\tbackground: linear-gradient(134deg, #00d3ff, #00b7ff) !important;\n\tcolor: #fff !important;\n\tbox-shadow: 0 2px 4px #00b7ff !important;\n}\n.MBPlus_lateTaskBlock {\n\tbackground: linear-gradient(134deg, #fa5858, #fe2e2e) !important;\n\tcolor: #fff !important;\n\tbox-shadow: 0 2px 4px #fe2e2e !important;\n}\n.MBPlus_simpleTaskBlock {\n\tbackground: linear-gradient(134deg, #16e05a, #16e09d) !important;\n\tcolor: #f3f4f7 !important;\n\tbox-shadow: 0 2px 4px #16e09d !important;\n}\n.fc-day-grid-event .labels-set .label {\n\twidth: 100%;\n\tpadding: 0.3em 0 0.3em !important;\n\tmargin: 3px 0;\n\tline-height: 1 !important;\n\tfont-weight: 300 !important;\n\tbox-shadow: inset 0px 2px 4px 0px #3f3f3f;\n}\n.fc-content-skeleton table {\n\tborder-collapse: separate;\n\tborder-spacing: 0 10px;\n}\nli[event_id] .labels-set .label {\n\twidth: 100%;\n\tpadding: 0.3em 0 0.3em !important;\n\tmargin: 3px 0;\n\tline-height: 1 !important;\n\tfont-weight: 300 !important;\n\tbox-shadow: inset 0px 2px 4px 0px #3f3f3f;\n}\n.two-weeks-calendar tbody td.day ul li:not(:last-child) {\n\tmargin-bottom: 10px !important;\n}\n",""]);const o=a},163:(t,e,n)=>{n.d(e,{Z:()=>o});var i=n(645),a=n.n(i)()((function(t){return t[1]}));a.push([t.id,"@keyframes rotate {\n\tfrom {\n\t\ttransform: rotate(0deg);\n\t}\n\tto {\n\t\ttransform: rotate(359deg);\n\t}\n}\n.MBPlus_dropboxFileViewButton,\n.MBPlus_detailFileViewButton,\n.MBPlus_resourceFileViewButton {\n\twidth: 50px;\n\theight: 50px;\n\tcursor: pointer;\n}\n.MBPlus_dropboxFileViewButton svg path,\n.MBPlus_detailFileViewButton svg path,\n.MBPlus_resourceFileViewButton svg path {\n\tfill: #859bbb;\n}\n.MBPlus_detailFileViewButton,\n.MBPlus_resourceFileViewButton {\n\tposition: absolute;\n}\n.MBPlus_detailFileViewButton svg,\n.MBPlus_resourceFileViewButton svg,\n.MBPlus_dropboxFileViewButton svg {\n\twidth: 20px;\n\theight: 20px;\n\ttop: 15px;\n\tleft: 15px;\n\tposition: relative;\n}\n.MBPlus_resourceFileViewButton {\n\tright: 0;\n}\n.MBPlus_officeViewWindow,\n.MBPlus_imageViewWindow,\n.MBPlus_pdfViewWindow {\n\tposition: fixed;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 9999;\n\tleft: 0;\n\ttop: 0;\n\tbackground: rgba(0, 0, 0, 0.5);\n}\n.MBPlus_officeViewWindow iframe {\n\tborder: none;\n\twidth: 90%;\n\theight: 90%;\n}\n.MBPlus_officeViewWindow > div,\n.MBPlus_imageViewWindow > div,\n.MBPlus_pdfViewWindow > div:first-child {\n\tposition: absolute;\n\twidth: 3%;\n\ttop: 1%;\n\tright: 1%;\n\tcursor: pointer;\n}\n.MBPlus_officeViewWindow > div > svg path,\n.MBPlus_imageViewWindow > div > svg path,\n.MBPlus_imageViewWindow > svg path,\n.MBPlus_pdfViewWindow > div:first-child > svg path,\n.MBPlus_pdfViewWindow > svg path {\n\tfill: white;\n}\n.MBPlus_imageViewWindow > img,\n.MBPlus_officeViewWindow iframe,\n#MBPlus_pdfViewContainer {\n\tposition: absolute;\n\tmax-width: 90%;\n\tmax-height: 90%;\n\ttop: 50%;\n\tleft: 50%;\n\ttransform: translate(-50%, -50%);\n\tz-index: 2;\n}\n.MBPlus_imageViewWindow > svg,\n.MBPlus_pdfViewWindow > svg {\n\tposition: absolute;\n\tz-index: 1;\n\ttop: 45%;\n\tleft: 45%;\n\twidth: 10%;\n\tanimation: rotate 3s linear infinite;\n}\n",""]);const o=a},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var a={};if(i)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(a[s]=!0)}for(var l=0;l<t.length;l++){var r=[].concat(t[l]);i&&a[r[0]]||(n&&(r[2]?r[2]="".concat(n," and ").concat(r[2]):r[2]=n),e.push(r))}},e}},379:(t,e,n)=>{var i,a=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),s=[];function l(t){for(var e=-1,n=0;n<s.length;n++)if(s[n].identifier===t){e=n;break}return e}function r(t,e){for(var n={},i=[],a=0;a<t.length;a++){var o=t[a],r=e.base?o[0]+e.base:o[0],d=n[r]||0,c="".concat(r," ").concat(d);n[r]=d+1;var u=l(c),p={css:o[1],media:o[2],sourceMap:o[3]};-1!==u?(s[u].references++,s[u].updater(p)):s.push({identifier:c,updater:g(p,e),references:1}),i.push(c)}return i}function d(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var a=n.nc;a&&(i.nonce=a)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var s=o(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var c,u=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function p(t,e,n,i){var a=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=u(e,a);else{var o=document.createTextNode(a),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function h(t,e,n){var i=n.css,a=n.media,o=n.sourceMap;if(a?t.setAttribute("media",a):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var f=null,m=0;function g(t,e){var n,i,a;if(e.singleton){var o=m++;n=f||(f=d(e)),i=p.bind(null,n,o,!1),a=p.bind(null,n,o,!0)}else n=d(e),i=h.bind(null,n,e),a=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else a()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=a());var n=r(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var a=l(n[i]);s[a].references--}for(var o=r(t,e),d=0;d<n.length;d++){var c=l(n[d]);0===s[c].references&&(s[c].updater(),s.splice(c,1))}n=o}}}}},e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={id:i,exports:{}};return t[i](a,a.exports,n),a.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{function t(t,e){t:for(var n=0;n<t.length;n++){for(var i in e)if(t[n][i]!=e[i])continue t;return t[n]}}function e(t,e,n){$.ajax({async:!1,url:`https://${window.location.host}/student/classes/${t}/events/${e}/hint`}).success((function(a){i=(new DOMParser).parseFromString(a,"text/html"),n&&(o=o.filter((n=>!(t.includes(n.class)&&e.includes(n.id))))),o.push({class:t,id:e,timestamp:(new Date).getTime(),data:a}),localStorage.setItem("taskInfoCache",JSON.stringify(o))}))}null===localStorage.getItem("taskInfoCache")&&localStorage.setItem("taskInfoCache",JSON.stringify([]));let i,a=(new Date).getTime(),o=JSON.parse(localStorage.getItem("taskInfoCache"));const s=(n,s)=>(void 0===t(o,{class:n,id:s})?e(n,s,0):a-parseInt(t(o,{class:n,id:s}).timestamp)>36e5?e(n,s,1):i=(new DOMParser).parseFromString(t(o,{class:n,id:s}).data,"text/html"),i);const l=()=>{document.querySelectorAll(".MBPlus_finishedTaskBlock").length>0||document.querySelectorAll(".MBPlus_waitingTaskBlock").length>0||document.querySelectorAll(".MBPlus_lateTaskBlock").length>0||document.querySelectorAll(".MBPlus_simpleTaskBlock").length>0||$("li[event_id]").each((function(){let t=$(this)[0].children[1].children[0].href.split("/"),e=t[t.length-1],n=t[t.length-3],i=s(n,e);$(this).append(`<div class='labels-set'>${i.querySelector(".labels-set").innerHTML}</div>`),i.querySelectorAll(".dropbox-status.submitted").length>0?$(this).addClass("MBPlus_finishedTaskBlock"):i.querySelectorAll(".dropbox-status.upcoming").length>0?$(this).addClass("MBPlus_waitingTaskBlock"):i.querySelectorAll(".dropbox-status.past-due").length>0?$(this).addClass("MBPlus_lateTaskBlock"):$(this).addClass("MBPlus_simpleTaskBlock")}))};var r=n(379),d=n.n(r),c=n(163),u={insert:"head",singleton:!1};d()(c.Z,u);c.Z.locals;const p='<svg viewBox="0 0 40 40"><path d="M39.605 39.605a1.83 1.83 0 0 1-1.65.35l-6-6c.36-.31 1.69-1.63 2-2l6 6a1.83 1.83 0 0 1-.35 1.65zm-13.65-3.65a10 10 0 1 1 9.99-10.01 9.9 9.9 0 0 1-9.99 10.01zm0-18a8 8 0 1 0 8 8 7.8 7.8 0 0 0-8-8zm2-6h-6a4.238 4.238 0 0 1-4-4v-6h-14a2.119 2.119 0 0 0-2 2v26a2.119 2.119 0 0 0 2 2h11a14.539 14.539 0 0 0 2 2h-13a4.238 4.238 0 0 1-4-4v-26a4.238 4.238 0 0 1 4-4h16l10 10v4c-.58-.45-1.35-.33-2-.67v-1.33zm-8-9v5a2.119 2.119 0 0 0 2 2h5z"></path></svg>',h='<svg viewBox="0 0 30 30"><path d="M23 9l-6 6 6 6 1 1a2.444 2.444 0 011 1.24A1.763 1.763 0 0123.236 25 2.437 2.437 0 0122 24l-1-1-6-6-6 6-1 1a2.439 2.439 0 01-1.235 1A1.764 1.764 0 015 23.24 2.449 2.449 0 016 22l1-1 6-6-6-6-1-1a2.449 2.449 0 01-1-1.24A1.764 1.764 0 016.765 5 2.439 2.439 0 018 6l1 1 6 6 6-6 1-1a2.437 2.437 0 011.236-1A1.763 1.763 0 0125 6.76 2.444 2.444 0 0124 8z"></path></svg>',f='<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M500.914065 101.849403m-101.850403 0a101.850403 101.850403 0 1 0 203.700806 0 101.850403 101.850403 0 1 0-203.700806 0Z"></path><path d="M254.163511 187.508901m-96.031438 0a96.031437 96.031437 0 1 0 192.062875 0 96.031437 96.031437 0 1 0-192.062875 0Z"></path><path d="M120.713293 381.395765m-90.210472 0a90.210471 90.210471 0 1 0 180.420943 0 90.210471 90.210471 0 1 0-180.420943 0Z"></path><path d="M118.049308 609.722427m-84.390505 0a84.390506 84.390506 0 1 0 168.781011 0 84.390506 84.390506 0 1 0-168.781011 0Z"></path><path d="M224.002687 786.127394m-78.570539 0a78.57054 78.57054 0 1 0 157.141079 0 78.57054 78.57054 0 1 0-157.141079 0Z"></path><path d="M418.803546 889.708787m-72.750574 0a72.750574 72.750574 0 1 0 145.501148 0 72.750574 72.750574 0 1 0-145.501148 0Z"></path><path d="M626.851327 877.857856m-66.931608 0a66.931608 66.931608 0 1 0 133.863216 0 66.931608 66.931608 0 1 0-133.863216 0Z"></path><path d="M800.334311 762.483532m-61.110642 0a61.110642 61.110642 0 1 0 122.221283 0 61.110642 61.110642 0 1 0-122.221283 0Z"></path><path d="M889.516788 587.14856m-55.290676 0a55.290676 55.290676 0 1 0 110.581352 0 55.290676 55.290676 0 1 0-110.581352 0Z"></path><path d="M888.602793 408.896604m-49.47071 0a49.47071 49.47071 0 1 0 98.94142 0 49.47071 49.47071 0 1 0-98.94142 0Z"></path><path d="M818.663203 260.047476m-43.650744 0a43.650744 43.650744 0 1 0 87.301488 0 43.650744 43.650744 0 1 0-87.301488 0Z"></path><path d="M708.18485 159.990063m-37.829778 0a37.829778 37.829778 0 1 0 75.659557 0 37.829778 37.829778 0 1 0-75.659557 0Z"></path></svg>';function m(){if(document.querySelectorAll(".redactor-styles a[data-name]").length>0){$(".redactor-styles a[data-name]").each((function(){var t,e;$(".content-block").append(""+(t=$(this).text(),e=$(this).attr("href"),`<div class="MBPlus_detailFileViewButton" style="top:${$(this)[0].getBoundingClientRect().top}px" data-link="${e}" data-name="${t}">${p}</div>`))})),$(".MBPlus_detailFileViewButton").click((function(){w($(this).attr("data-name"),$(this).attr("data-link"))})),$(window).resize((function(){$(".MBPlus_detailFileViewButton").each((function(){$(this).css("left",$(this).parent()[0].getBoundingClientRect().right-110+"px")}))})),$("button.navbar-toggle").click((function(){window.dispatchEvent(new Event("resize"))})),window.dispatchEvent(new Event("resize"))}}function g(){if(document.querySelectorAll("a.file-name").length>0){$("a.file-name").each((function(){var t;$(this).parent().parent().parent().prepend(""+(t=$(this).text(),`<div class="MBPlus_resourceFileViewButton" data-link="${$(this).attr("href")}" data-name="${t}">${p}</div>`))})),$(".MBPlus_resourceFileViewButton").click((function(){w($(this).attr("data-name"),$(this).attr("data-link"))}))}}function v(){if(document.querySelectorAll("div.row.file").length>0){$("div.row.file").each((function(){const t=JSON.parse($(this).attr("data-ec3-info"));var e;$(this).append(""+(e=t.name,`<div class="MBPlus_dropboxFileViewButton" data-link="${t.download_url}" data-name="${e}">${p}</div>`))})),$(".MBPlus_dropboxFileViewButton").click((function(){w($(this).attr("data-name"),$(this).attr("data-link"))}))}}function w(t,e){const n=t.split(".").pop().toLowerCase();$.each(["doc","docx","csv","xls","xlsx","ppt","pptx"],((t,i)=>{if(-1!=n.indexOf(i))return function(t){$("body").append(`${function(t,e){return`<div class="MBPlus_officeViewWindow"><div>${h}</div><iframe src="${"https://view.officeapps.live.com/op/view.aspx?wdStartOn=1&wdEmbedCode=0&src="}${encodeURIComponent(t)}"></iframe></div>`}(t)}`),$(".MBPlus_officeViewWindow>div").click((function(){$(this).parent().remove()}))}(e),!1})),$.each(["jpg","jpeg","gif","png","webp","HEIC","heic"],((t,i)=>{if(-1!=n.indexOf(i))return function(t){if($("body").append(`<div class="MBPlus_imageViewWindow"><div>${h}</div><img></img>${f}</div>`),$(".MBPlus_imageViewWindow>div").click((function(){$(this).parent().remove()})),-1!=t.indexOf(".heic")||-1!=t.indexOf(".HEIC")){function e(){fetch(t).then((t=>t.blob())).then((t=>heic2any({blob:t,toType:"image/jpeg",quality:1}))).then((t=>{var e=URL.createObjectURL(t);$(".MBPlus_imageViewWindow>img").attr("src",e)}))}"function"==typeof window.heic2any?e():$.getScript("https://cdn.jsdelivr.net/npm/heic2any@0.0.3/dist/heic2any.min.js",(()=>e()))}else $(".MBPlus_imageViewWindow>img").attr("src",t)}(e),!1})),-1!=n.indexOf("pdf")&&function(t,e){function n(){new AdobeDC.View({clientId:"2d3dfaf9c9c743c69b101602a5e5a45d",divId:"MBPlus_pdfViewContainer"}).previewFile({content:{location:{url:e}},metaData:{fileName:t}},{defaultViewMode:"FIT_PAGE",dockPageControls:!1})}$("body").append(`<div class="MBPlus_pdfViewWindow"><div>${h}</div><div id="MBPlus_pdfViewContainer"></div>${f}</div>`),$(".MBPlus_pdfViewWindow>div:first-child").click((function(){$(this).parent().remove()})),"object"==typeof window.AdobeDC?n():$.getScript("https://documentcloud.adobe.com/view-sdk/main.js",(()=>document.addEventListener("adobe_dc_view_sdk.ready",(()=>n()))))}(t,e)}const B=[{title:"OneNote",url:"https://onenote.partner.office365.cn/notebooks"},{title:"Outlook",url:"https://partner.outlook.cn/mail/"}];var b=n(588),M={insert:"head",singleton:!1};d()(b.Z,M);b.Z.locals;const x=()=>{(()=>{let t=B.reverse();$.each(t,(function(t,e){var n;$("ul.nav.navbar-nav.navbar-right").prepend((n=e.title,`<li><a href="${e.url}" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="fi fi-share_square" width="20px" height="20px"><path fill="#859bbb" d="M566.633 169.37L406.63 9.392C386.626-10.612 352 3.395 352 32.022v72.538C210.132 108.474 88 143.455 88 286.3c0 84.74 49.78 133.742 79.45 155.462 24.196 17.695 58.033-4.917 49.7-34.51C188.286 304.843 225.497 284.074 352 280.54V352c0 28.655 34.654 42.606 54.63 22.63l160.003-160c12.489-12.5 12.489-32.76 0-45.26zM384 352V248.04c-141.718.777-240.762 15.03-197.65 167.96C154.91 393 120 351.28 120 286.3c0-134.037 131.645-149.387 264-150.26V32l160 160-160 160zm37.095 52.186c2.216-1.582 4.298-3.323 6.735-5.584 7.68-7.128 20.17-1.692 20.17 8.787V464c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h172.146c6.612 0 11.954 5.412 11.852 12.04-.084 5.446-4.045 10.087-9.331 11.396-9.462 2.343-18.465 4.974-27.074 7.914-1.25.427-2.555.65-3.876.65H48c-8.837 0-16 7.163-16 16v352c0 8.837 7.163 16 16 16h352c8.837 0 16-7.163 16-16v-50.002c0-3.905 1.916-7.543 5.095-9.812z"></path></svg><span style="color:#4b8ffa">${n}</span></a></li>`))}))})()};const k=()=>{var t,e,n;$("body").on("DOMSubtreeModified",".fc-view",(t=()=>{document.querySelectorAll(".MBPlus_finishedTaskBlock").length>0||document.querySelectorAll(".MBPlus_waitingTaskBlock").length>0||document.querySelectorAll(".MBPlus_lateTaskBlock").length>0||document.querySelectorAll(".MBPlus_simpleTaskBlock").length>0||$("a.fc-day-grid-event").each((function(){let t=$(this).attr("href").split("/"),e=t[t.length-1],n=t[t.length-3],i=s(n,e);$(this).append(`<div class='labels-set'>${i.querySelector(".labels-set").innerHTML}</div>`),i.querySelectorAll(".dropbox-status.submitted").length>0?$(this).addClass("MBPlus_finishedTaskBlock"):i.querySelectorAll(".dropbox-status.upcoming").length>0?$(this).addClass("MBPlus_waitingTaskBlock"):i.querySelectorAll(".dropbox-status.past-due").length>0?$(this).addClass("MBPlus_lateTaskBlock"):$(this).addClass("MBPlus_simpleTaskBlock")}))},e=100,function(){var i=this,a=arguments;n||(n=setTimeout((function(){t.apply(i,a),n=null}),e))}))},_=()=>{switch(document.querySelector("body").getAttribute("data-path")){case"student/dashboard/show":l();break;case"student/classes/core_tasks/show":m(),g(),v(),$("input[value='Upload Files']").click((function(){let[t,e,n]=[window.location.pathname.split("/"),t[t.length-1],t[t.length-3]],i=JSON.parse(localStorage.getItem("taskInfoCache")).filter((t=>!(n.includes(t.class)&&e.includes(t.id))));localStorage.setItem("taskInfoCache",JSON.stringify(i))}));break;case"student/calendars/show":k()}x()};_(),document.addEventListener("turbolinks:load",_)})()})();